# HTTP 接口管理平台

## 背景

随着互联网的发展，各种应用程序和系统之间的交互越来越频繁，接口也越来越复杂。为了更好地管理各种 http 接口，提高接口的可用性和稳定性，需要一款高效的接口管理平台。

## 目标用户

该接口管理平台主要面向以下类型用户：

1. **开发人员：可以使用平台来管理自己的接口，包括添加、修改、删除接口等操作。**
2. 测试人员：可以使用平台来测试接口的可用性和稳定性。

## 主要功能

1. 项目管理：支持按项目维度管理接口集合，每个项目可单独设置管理、读写权限；
2. 接口管理：项目管理员可以通过平台添加、修改、删除接口，接口需要支持如下字段：
   1. 名称、接口地址、请求方式、请求参数、返回数据等信息；
   2. 其次，接口每次变更都需要记录相应更新日志，方便后续查看、回滚等；
3. 接口 Mock 服务：创建接口后，平台自动按照接口描述提供对应 mock 服务；
4. 版本管理：支持接口版本管理，包括历史版本的查看、回滚等操作，便于开发人员管理接口的变更历史。

### 项目管理模块

项目管理功能主要用于创建、修改和删除项目，并为项目指定相关的信息和成员、权限等。具体功能如下：

- **创建项目：**项目管理员可以在平台上创建新的项目，并指定项目名称、描述等信息。
- **修改项目：**项目管理员可以修改项目的基本信息，例如项目名称、描述等；以及更重要的，可以为不同成员配置不同级别的管理权限(管理、只读、读写)；
- **删除项目：**项目经理可以删除项目及其相关信息。
- **查看项目列表：**平台用户可以查看项目列表，了解每个项目的基本信息，例如项目名称、描述、创建时间、接口数量等。
- **查看项目详情：**平台用户可以查看项目的详细信息，包括项目成员、接口列表等。

### 接口管理

接口管理功能主要用于在项目维度创建、修改和删除接口，具体功能如下：

- 创建接口：开发人员可以在项目中创建新的接口，接口支持如下字段：
  - 接口名称；
  - 访问地址：需要支持带占位参数的 URL 形式，例如 `/orders/:id/detail` 中，`:id` 为动态 URL 参数；
  - 请求 http 方法；
  - 请求参数：需要支持 query、body 参数，需要支持声明参数字段类型；
  - 返回数据：需要支持声明返回数据格式，需要支持复杂、多层级嵌套的返回结构；
- **导入接口：需要支持导入** **[swagger](https://swagger.io/)** **文档，并从文档中解析出接口信息；**
- 修改接口：开发人员可以修改接口的描述信息，修改后需要记录本次变更行为，方便做版本跟踪及回滚；
- 删除接口：开发人员可以删除接口及其相关信息；
- 查看接口列表：平台用户可以查看项目中的接口列表，并了解每个接口的基本信息，例如接口名称、地址、请求方式等；
- 查看接口详情：平台用户可以查看接口的详细信息，包括接口参数、返回数据、历史版本等；

> 注意：
>
> 1. 修改 & 创建接口的页面中，需要支持设定复杂请求参数及返回结构，因此需要实现较为复杂的动态表单效果，以便用户能够编辑复杂嵌套数据结构；
> 2. Swagger 是一种复杂但比较完备的接口描述工具，它定义了一种标准的、可交互的API文档格式，可以让开发人员和非开发人员更容易地了解和使用API接口，因此接口管理平台中期望能支持导入 Swagger 文档，方便接口维护。
>

### 接口 Mock 服务

接口 Mock 服务是一种模拟 API 接口行为的工具，用于在开发和测试阶段中模拟API接口的行为，以便于开发人员和测试人员在没有真实API接口的情况下进行开发和测试，也是 HTTP 接口管理平台最最核心的功能点之一。

在用户提供了完备的 HTTP 接口描述(URL、Method、参数、返回结构等)后，平台需要根据这些接口描述提供对应 Mock 服务，方便用户调试调用。Mock 服务需要提供如下能力：

1. 支持多种数据格式：接口Mock服务需要支持多种数据格式，例如 JSON、XML、YAML、**文件数据**等，以满足不同 API 接口的需求；
2. 支持多种 HTTP 请求方式：接口Mock服务需要支持多种HTTP请求方式，例如GET、POST、PUT、DELETE等，以满足不同API接口的需求；
3. 支持参数匹配和响应规则：接口Mock服务需要支持参数匹配和响应规则，以模拟API接口的行为。例如，可以根据请求参数的值来返回不同的响应结果，或者根据请求头中的信息来返回不同的响应结果；
4. 支持动态Mock数据：接口Mock服务需要支持动态Mock数据及随机响应码，以便于在测试阶段中动态生成Mock数据，提高测试的覆盖率和准确性；
5. 支持复杂数据结构定义：接口Mock服务需要兼容复杂数据结构，以便于在Mock数据中返回复杂的数据结构，例如数组、对象等。

## 技术选型

为了实现上述功能，使用以下技术：

1. 前端框架：Vue3 ，UI 框架 Element Plus
2. 后端框架：NodeJS + express；
3. 数据库：MongoDB。